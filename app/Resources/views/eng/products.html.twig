{% extends 'eng/base.html.twig' %}

{% block body %}
    <div class="my row row">
        <div class="col-md-3">

            <div class=" my-subcategory-div list-group">
                {% if category is defined %}
                    {#
                        If a category is defined, it means that this is a dog products page,
                        but if not then it is cat product page
                     #}
                    <a href="{{ path('dog_products', {
                        'lang':'eng',
                        'category' : category,
                    }) }}" class="my-subcategory list-group-item">ALL PRODUCTS</a>

                    {% for menuitem in menuitems %}
                        <hr style="margin-right: 10%;"/>
                        <a href="{{ path('dog_products', {
                            'lang':'eng',
                            'category' : menuitem.category.titleEng,
                            'subcategory': menuitem.titleEng
                        }) }}" class="my-subcategory list-group-item">{{ menuitem.titleEng | upper }}</a>
                    {% endfor %}

                {% else %}

                    <a href="{{ path('cat_products', {
                        'lang':'eng',
                    }) }}" class="my-subcategory list-group-item">ALL PRODUCTS</a>

                    {% for menuitem in menuitems %}
                        <hr style="margin-right: 10%;"/>
                        <a href="{{ path('cat_products', {
                            'lang':'eng',
                            'category' : menuitem.titleEng,
                        }) }}" class="my-subcategory list-group-item">{{ menuitem.titleEng | upper }}</a>
                    {% endfor %}

                {% endif %}
            </div>
        </div>

        <div class="col-md-9 col-sm-9 col-xs-12">
            {% set i = 0 %}

            {% for product in  products %}

                {% if (i % 3 == 0) %}
                    <div class='row'>
                {% endif %}

                {% set i = i+1 %}


                <div class="col-md-4 col-sm-4 col-xs-12">

                    <div class="thumbnail">
                        <a class="thumbnail" href="#">
                            <img class="img-responsive"
                                 src="{{ (products_dir ~ product.image ) | imagine_filter('my_thumb') }}">
                        </a>
                        <div class="caption">
                            <h5>{{ product.titleEng }}
                                <br/>
                                <h4 class="pull-right"> {{ product.price }} rsd.</h4>
                                <br/>
                            </h5>

                        </div>

                    </div>
                </div>
                {% if (i % 3 == 0 or product == products|last) %} </div> {% endif %}
            {% endfor %}

            <div class="row" style="text-align:center">
                <div class="my-pagination">
                    {% for key, link in paginationlinks %}
                        {% if ((key + 1)== page ) %}
                            <u><b>
                                    <a href= {{ link }}>

                                        {{ key +1 }}
                                    </a>
                                </b>
                            </u>

                        {% else %}
                            <a href= {{ link }}>

                                {{ key +1 }}
                            </a>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>

        </div>

    </div>
{% endblock %}